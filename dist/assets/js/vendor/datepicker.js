!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AirDatepicker=t():e.AirDatepicker=t()}(this,function(){return(()=>{"use strict";var n={d:(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},I={};n.d(I,{default:()=>i});const f="days",u="months",m="years",r="changeViewDate",o="changeCurrentView",a="changeFocusDate",v="changeSelectedDate",l="changeTime",c="changeLastSelectedDate",L="selectDate",N="unselectDate",j={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:f,minView:f,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1};function P(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,s=[],r=!0,o=!1;try{for(i=i.call(e);!(r=(n=i.next()).done)&&(s.push(n.value),!t||s.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return s}}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"==typeof e)return U(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function h(e,t){t=1<arguments.length&&void 0!==t?t:document;return"string"==typeof e?t.querySelector(e):e}function d(e){var t,e=0<arguments.length&&void 0!==e?e:{},i=e.tagName,n=e.className,n=void 0===n?"":n,a=e.innerHtml,a=void 0===a?"":a,s=e.id,s=void 0===s?"":s,e=e.attrs,r=void 0===e?{}:e,o=document.createElement(void 0===i?"div":i);if(n&&(e=o.classList).add.apply(e,function(e){if(Array.isArray(e))return U(e)}(t=n.split(" "))||function(){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}()||K(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s&&(o.id=s),a&&(o.innerHTML=a),r)for(var l in r)o.setAttribute(l,r[l]);return o}function Y(e,t){for(var i=0,n=Object.entries(t);i<n.length;i++){var a=B(n[i],2),s=a[0],a=a[1];e.setAttribute(s,a)}return e}function W(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function p(e){var t=e.getHours(),i=t%12==0?12:t%12;return{year:e.getFullYear(),month:e.getMonth(),fullMonth:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,date:e.getDate(),fullDate:e.getDate()<10?"0"+e.getDate():e.getDate(),day:e.getDay(),hours:t,fullHours:y(t),hours12:i,fullHours12:y(i),minutes:e.getMinutes(),fullMinutes:e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()}}function y(e){return e<10?"0"+e:e}function g(e){e=10*Math.floor(e.getFullYear()/10);return[e,9+e]}function D(){for(var i=[],e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(function(e){if("object"===R(e))for(var t in e)e[t]&&i.push(t);else e&&i.push(e)}),i.join(" ")}function b(e,t,i){var n,i=2<arguments.length&&void 0!==i?i:f;if(!e||!t)return!1;e=p(e),t=p(t);return P(n={},f,e.date===t.date&&e.month===t.month&&e.year===t.year),P(n,u,e.month===t.month&&e.year===t.year),P(n,m,e.year===t.year),n[i]}function k(e,t,i){e=q(e,!1).getTime(),t=q(t,!1).getTime();return i?t<=e:t<e}function w(e,t){return!k(e,t,!0)}function q(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],e=new Date(e.getTime());return"boolean"!=typeof t||t||e.setHours(0,0,0,0),e}function _(e,t,i){e.length?e.forEach(function(e){e.addEventListener(t,i)}):e.addEventListener(t,i)}function M(e,t){return!(!e||e===document||e instanceof DocumentFragment)&&(e.matches(t)?e:M(e.parentNode,t))}function $(e,t,i){return i<e?i:e<t?t:e}function C(l){for(var e=arguments.length,t=new Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return t.filter(function(e){return e}).forEach(function(e){for(var t=0,i=Object.entries(e);t<i.length;t++){var n,a,s,r=B(i[t],2),o=r[0],r=r[1];void 0!==r&&"[object Object]"===r.toString()?(n=void 0!==l[o]?l[o].toString():void 0,a=r.toString(),s=Array.isArray(r)?[]:{},l[o]=!l[o]||n!==a?s:l[o],C(l[o],r)):l[o]=r}}),l}function S(e){var t=e;return e instanceof Date||(t=new Date(e)),isNaN(t.getTime())&&(console.log('Unable to convert value "'.concat(e,'" to Date object')),t=!1),t}function J(e){var t="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+t+")("+e+")($|<|"+t+")","g")}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function T(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}var X=function(){function l(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=e.type,n=e.date,a=e.dp,s=e.opts,e=e.body,r=this,o=l;if(!(r instanceof o))throw new TypeError("Cannot call a class as a function");T(this,"focus",function(){t.$cell.classList.add("-focus-"),t.focused=!0}),T(this,"removeFocus",function(){t.$cell.classList.remove("-focus-"),t.focused=!1}),T(this,"select",function(){t.$cell.classList.add("-selected-"),t.selected=!0}),T(this,"removeSelect",function(){t.$cell.classList.remove("-selected-","-range-from-","-range-to-"),t.selected=!1}),T(this,"onChangeSelectedDate",function(){t.isDisabled||(t._handleSelectedStatus(),t.opts.range&&t._handleRangeStatus())}),T(this,"onChangeFocusDate",function(e){e?((e=b(e,t.date,t.type))?t.focus():!e&&t.focused&&t.removeFocus(),t.opts.range&&t._handleRangeStatus()):t.focused&&t.removeFocus()}),T(this,"render",function(){return t.$cell.innerHTML=t._getHtml(),(t.$cell.adpCell=t).$cell}),this.type=i,this.singleType=this.type.slice(0,-1),this.date=n,this.dp=a,this.opts=s,this.body=e,this.customData=!1,this.init()}for(var e=l.prototype,t=[{key:"init",value:function(){var e=this.opts,t=e.range,e=e.onRenderCell;e&&(this.customData=e({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),t&&this._handleRangeStatus())}},{key:"_bindDatepickerEvents",value:function(){this.dp.on(v,this.onChangeSelectedDate),this.dp.on(a,this.onChangeFocusDate)}},{key:"unbindDatepickerEvents",value:function(){this.dp.off(v,this.onChangeSelectedDate),this.dp.off(a,this.onChangeFocusDate)}},{key:"_createElement",value:function(){var e=p(this.date),t=e.year,i=e.month,e=e.date;this.$cell=d({className:this._getClassName(),attrs:{"data-year":t,"data-month":i,"data-date":e}})}},{key:"_getClassName",value:function(){var e=new Date,t=this.opts,i=t.selectOtherMonths,n=t.selectOtherYears,t=this.dp,a=t.minDate,t=t.maxDate,s=p(this.date).day,r=this._isOutOfMinMaxRange(),o=null==(l=this.customData)?void 0:l.disabled,l=D("air-datepicker-cell","-".concat(this.singleType,"-"),{"-current-":b(e,this.date,this.type),"-min-date-":a&&b(a,this.date,this.type),"-max-date-":t&&b(t,this.date,this.type)}),c="";switch(this.type){case f:c=D({"-weekend-":this.dp.isWeekend(s),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!i||r||o});break;case u:c=D({"-disabled-":r||o});break;case m:c=D({"-other-decade-":this.isOtherDecade,"-disabled-":r||this.isOtherDecade&&!n||o})}return D(l,c,null==(e=this.customData)?void 0:e.classes)}},{key:"_getHtml",value:function(){var e=p(this.date),t=e.year,i=e.month,n=e.date,e=this.opts,a=e.showOtherMonths,s=e.showOtherYears;if(null!=(e=this.customData)&&e.html)return this.customData.html;switch(this.type){case f:return!a&&this.isOtherMonth?"":n;case u:return this.dp.locale[this.opts.monthsField][i];case m:return!s&&this.isOtherDecade?"":t}}},{key:"_isOutOfMinMaxRange",value:function(){var e=this.dp,t=e.minDate,e=e.maxDate,i=this.type,n=p(this.date),a=n.month,s=n.year,n=n.date,r=i===f,i=i===m,o=!!t&&new Date(s,i?t.getMonth():a,r?n:t.getDate()),s=!!e&&new Date(s,i?e.getMonth():a,r?n:e.getDate());return t&&e?w(o,t)||k(s,e):t?w(o,t):e?k(s,e):void 0}},{key:"destroy",value:function(){this.unbindDatepickerEvents()}},{key:"_handleRangeStatus",value:function(){var e,t,i=this.dp,n=i.rangeDateFrom,i=i.rangeDateTo,a=D({"-in-range-":n&&i&&(e=i,k(a=this.date,n)&&w(a,e)),"-range-from-":n&&b(this.date,n,this.type),"-range-to-":i&&b(this.date,i,this.type)});this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),a&&(e=this.$cell.classList).add.apply(e,function(e){if(Array.isArray(e))return z(e)}(t=a.split(" "))||function(){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}()||function(e){if(e){if("string"==typeof e)return z(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?z(e,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}},{key:"_handleSelectedStatus",value:function(){var e=this.dp._checkIfDateIsSelected(this.date,this.type);e?this.select():!e&&this.selected&&this.removeSelect()}},{key:"_handleInitialFocusStatus",value:function(){b(this.dp.focusDate,this.date,this.type)&&this.focus()}},{key:"isDisabled",get:function(){return this.$cell.matches(".-disabled-")}},{key:"isOtherMonth",get:function(){return this.dp.isOtherMonth(this.date)}},{key:"isOtherDecade",get:function(){return this.dp.isOtherDecade(this.date)}}],i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return l}();function A(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}A(e={},f,'<div class="air-datepicker-body--day-names"></div>'+'<div class="air-datepicker-body--cells -'.concat(f,'-"></div>')),A(e,u,'<div class="air-datepicker-body--cells -'.concat(u,'-"></div>')),A(e,m,'<div class="air-datepicker-body--cells -'.concat(m,'-"></div>'));var G=e,Q=function(){function a(e){var s=this,t=e.dp,i=e.type,e=e.opts,n=this;if(!(n instanceof a))throw new TypeError("Cannot call a class as a function");A(this,"handleClick",function(e){var t,e=M(e.target,".air-datepicker-cell");e&&!(e=e.adpCell).isDisabled&&(s.dp.isMinViewReached?(t=s.dp._checkIfDateIsSelected(e.date,e.type))?s.dp._handleAlreadySelectedDates(t,e.date):s.dp.selectDate(e.date):s.dp.down())}),A(this,"onChangeCurrentView",function(e){e!==s.type?s.hide():(s.show(),s.render())}),A(this,"onMouseOverCell",function(e){e=M(e.target,".air-datepicker-cell");s.dp.setFocusDate(!!e&&e.adpCell.date)}),A(this,"onMouseOutCell",function(){s.dp.setFocusDate(!1)}),A(this,"onClickCell",function(e){s.handleClick(e)}),A(this,"onMouseDown",function(e){s.pressed=!0;e=M(e.target,".air-datepicker-cell"),e=e&&e.adpCell;b(e.date,s.dp.rangeDateFrom)&&(s.rangeFromFocused=!0),b(e.date,s.dp.rangeDateTo)&&(s.rangeToFocused=!0)}),A(this,"onMouseMove",function(e){var t,i,n,a;s.pressed&&s.dp.isMinViewReached&&(e.preventDefault(),e=(e=M(e.target,".air-datepicker-cell"))&&e.adpCell,n=(a=s.dp).selectedDates,t=a.rangeDateTo,a=a.rangeDateFrom,e&&!e.isDisabled&&(e=e.date,2===n.length&&(s.rangeFromFocused&&!k(e,t)&&(i=(n=p(a)).hours,n=n.minutes,e.setHours(i),e.setMinutes(n),s.dp.rangeDateFrom=e,s.dp.replaceDate(a,e)),s.rangeToFocused&&!w(e,a)&&(n=(i=p(t)).hours,a=i.minutes,e.setHours(n),e.setMinutes(a),s.dp.rangeDateTo=e,s.dp.replaceDate(t,e)))))}),A(this,"onMouseUp",function(){s.pressed=!1,s.rangeFromFocused=!1,s.rangeToFocused=!1}),A(this,"onChangeViewDate",function(e,t){if(s.isVisible){var i=g(e),n=g(t);switch(s.dp.currentView){case f:if(b(e,t,u))return;break;case u:if(b(e,t,m))return;break;case m:if(i[0]===n[0]&&i[1]===n[1])return}s.render()}}),A(this,"render",function(){s.destroyCells(),s._generateCells(),s.cells.forEach(function(e){s.$cells.appendChild(e.render())})}),this.dp=t,this.type=i,this.opts=e,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}for(var e=[{key:"init",value:function(){this._buildBaseHtml(),this.type===f&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}},{key:"_bindEvents",value:function(){var e=this.opts,t=e.range,e=e.dynamicRange;_(this.$el,"mouseover",this.onMouseOverCell),_(this.$el,"mouseout",this.onMouseOutCell),_(this.$el,"click",this.onClickCell),t&&e&&(_(this.$el,"mousedown",this.onMouseDown),_(this.$el,"mousemove",this.onMouseMove),_(window.document,"mouseup",this.onMouseUp))}},{key:"_bindDatepickerEvents",value:function(){this.dp.on(r,this.onChangeViewDate),this.dp.on(o,this.onChangeCurrentView)}},{key:"_buildBaseHtml",value:function(){this.$el=d({className:"air-datepicker-body -".concat(this.type,"-"),innerHtml:G[this.type]}),this.$names=h(".air-datepicker-body--day-names",this.$el),this.$cells=h(".air-datepicker-body--cells",this.$el)}},{key:"_getDayNamesHtml",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.dp.locale.firstDay,t="",i=this.dp.isWeekend,n=e,a=0;a<7;){var s=n%7,r=D("air-datepicker-body--day-name",A({},"-weekend-",i(s))),s=this.dp.locale.daysMin[s];t+='<div class="'.concat(r,'">').concat(s,"</div>"),a++,n++}return t}},{key:"_getDaysCells",value:function(){for(var e=this.dp,t=e.viewDate,e=e.locale.firstDay,i=W(t),t=p(t),n=t.year,t=t.month,a=new Date(n,t,1),n=new Date(n,t,i),t=a.getDay()-e,n=6<(n=6-n.getDay()+e)?n-7:n,s=(e=t=t<0?t+7:t,a=p(a),s=a.year,l=a.month,a=a.date,new Date(s,l,a-e)),r=i+t+n,o=s.getDate(),l=p(s),c=l.year,u=l.month,h=0;h<r;){var d=new Date(c,u,o+h);this._generateCell(d),h++}}},{key:"_generateCell",value:function(e){var t=this.type,i=this.dp,n=this.opts,t=new X({type:t,dp:i,opts:n,date:e,body:this});return this.cells.push(t),t}},{key:"_generateDayCells",value:function(){this._getDaysCells()}},{key:"_generateMonthCells",value:function(){for(var e=this.dp.parsedViewDate.year,t=0;t<12;)this.cells.push(this._generateCell(new Date(e,t))),t++}},{key:"_generateYearCells",value:function(){for(var e=g(this.dp.viewDate),t=e[0]-1,i=e[1]+1,n=t;n<=i;)this.cells.push(this._generateCell(new Date(n,0))),n++}},{key:"renderDayNames",value:function(){this.$names.innerHTML=this._getDayNamesHtml()}},{key:"_generateCells",value:function(){switch(this.type){case f:this._generateDayCells();break;case u:this._generateMonthCells();break;case m:this._generateYearCells()}}},{key:"show",value:function(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}},{key:"hide",value:function(){this.isVisible=!1,this.$el.classList.add("-hidden-")}},{key:"destroyCells",value:function(){this.cells.forEach(function(e){return e.destroy()}),this.cells=[],this.$cells.innerHTML=""}},{key:"destroy",value:function(){this.destroyCells(),this.dp.off(r,this.onChangeViewDate),this.dp.off(o,this.onChangeCurrentView)}}],t=a.prototype,i=e,n=0;n<i.length;n++){var s=i[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}return a}();function F(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}var Z=function(){function a(e){var n=this,t=e.dp,e=e.opts,i=this;if(!(i instanceof a))throw new TypeError("Cannot call a class as a function");F(this,"onClickNav",function(e){var e=M(e.target,".air-datepicker-nav--action");e&&(e=e.dataset.action,n.dp[e]())}),F(this,"onChangeViewDate",function(){n.render(),n._resetNavStatus(),n.handleNavStatus()}),F(this,"onChangeCurrentView",function(){n.render(),n._resetNavStatus(),n.handleNavStatus()}),F(this,"onClickNavTitle",function(){n.dp.isFinalView||n.dp.up()}),F(this,"update",function(){var e=n.opts,t=e.prevHtml,e=e.nextHtml;n.$prev.innerHTML=t,n.$next.innerHTML=e,n._resetNavStatus(),n.render(),n.handleNavStatus()}),F(this,"renderDelay",function(){setTimeout(n.render)}),F(this,"render",function(){n.$title.innerHTML=n._getTitle();var e,t=n.$title,i={"-disabled-":n.dp.isFinalView};for(e in i)i[e]?t.classList.add(e):t.classList.remove(e)}),this.dp=t,this.opts=e,this.init()}for(var e=[{key:"init",value:function(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}},{key:"_defineDOM",value:function(){this.$title=h(".air-datepicker-nav--title",this.$el),this.$prev=h('[data-action="prev"]',this.$el),this.$next=h('[data-action="next"]',this.$el)}},{key:"_bindEvents",value:function(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}},{key:"_bindDatepickerEvents",value:function(){this.dp.on(r,this.onChangeViewDate),this.dp.on(o,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(v,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(l,this.render))}},{key:"destroy",value:function(){this.dp.off(r,this.onChangeViewDate),this.dp.off(o,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(v,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(l,this.render))}},{key:"_createElement",value:function(){this.$el=d({tagName:"nav",className:"air-datepicker-nav"})}},{key:"_getTitle",value:function(){var e=this.dp,t=this.opts.navTitles[e.currentView];return"function"==typeof t?t(e):e.formatDate(e.viewDate,t)}},{key:"handleNavStatus",value:function(){var e=this.opts.disableNavWhenOutOfRange,t=this.dp,i=t.minDate,n=t.maxDate;if((i||n)&&e){var t=this.dp.parsedViewDate,a=t.year,s=t.month,r=!!i&&p(i),o=!!n&&p(n);switch(this.dp.currentView){case f:i&&r.month>=s&&r.year>=a&&this._disableNav("prev"),n&&o.month<=s&&o.year<=a&&this._disableNav("next");break;case u:i&&r.year>=a&&this._disableNav("prev"),n&&o.year<=a&&this._disableNav("next");break;case m:var l=g(this.dp.viewDate);i&&r.year>=l[0]&&this._disableNav("prev"),n&&o.year<=l[1]&&this._disableNav("next")}}}},{key:"_disableNav",value:function(e){h('[data-action="'+e+'"]',this.$el).classList.add("-disabled-")}},{key:"_resetNavStatus",value:function(){!function(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];e.length?e.forEach(function(e){(e=e.classList).remove.apply(e,i)}):(e=e.classList).remove.apply(e,i)}(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}},{key:"_buildBaseHtml",value:function(){var e=this.opts,t=e.prevHtml,e=e.nextHtml;this.$el.innerHTML='<div class="air-datepicker-nav--action" data-action="prev">'.concat(t,"</div>")+'<div class="air-datepicker-nav--title"></div>'+'<div class="air-datepicker-nav--action" data-action="next">'.concat(e,"</div>")}},{key:"isNavIsFunction",get:function(){var t=this.opts.navTitles;return Object.keys(t).find(function(e){return"function"==typeof t[e]})}}],t=a.prototype,i=e,n=0;n<i.length;n++){var s=i[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}return a}();const ee={today:{content:function(e){return e.locale.today},onClick:function(e){return e.setViewDate(new Date)}},clear:{content:function(e){return e.locale.clear},onClick:function(e){return e.clear()}}};var te=function(){function n(e){var t=e.dp,e=e.opts,i=this;if(!(i instanceof n))throw new TypeError("Cannot call a class as a function");this.dp=t,this.opts=e,this.init()}for(var e=n.prototype,t=[{key:"init",value:function(){this.createElement(),this.render()}},{key:"createElement",value:function(){this.$el=d({className:"air-datepicker-buttons"})}},{key:"destroy",value:function(){this.$el.parentNode.removeChild(this.$el)}},{key:"clearHtml",value:function(){return this.$el.innerHTML="",this}},{key:"generateButtons",value:function(){var i=this,e=this.opts.buttons;(e=Array.isArray(e)?e:[e]).forEach(function(e){var t=e,e=("string"==typeof e&&ee[e]&&(t=ee[e]),i.createButton(t));t.onClick&&i.attachEventToButton(e,t.onClick),i.$el.appendChild(e)})}},{key:"attachEventToButton",value:function(e,t){var i=this;e.addEventListener("click",function(){t(i.dp)})}},{key:"createButton",value:function(e){var t=e.content,i=e.className,n=e.tagName,n=void 0===n?"button":n,e=e.attrs,e=void 0===e?{}:e,t="function"==typeof t?t(this.dp):t;return d({tagName:n,innerHtml:"<span tabindex='-1'>".concat(t,"</span>"),className:D("air-datepicker-button",i),attrs:e})}},{key:"render",value:function(){this.generateButtons()}}],i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return n}();function O(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}var ie=function(){function s(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.opts,e=e.dp,n=this,a=s;if(!(n instanceof a))throw new TypeError("Cannot call a class as a function");O(this,"toggleTimepickerIsActive",function(e){i.dp.timepickerIsActive=e}),O(this,"onChangeSelectedDate",function(e){var t=e.date,e=e.updateTime,e=void 0!==e&&e;t&&(i.setMinMaxTime(t),i.setCurrentTime(!!e&&t),i.addTimeToDate(t))}),O(this,"onChangeLastSelectedDate",function(e){e&&(i.setTime(e),i.render())}),O(this,"onChangeInputRange",function(e){var e=e.target,t=e.getAttribute("name");i[t]=e.value,i.updateText(),i.dp.trigger(l,{hours:i.hours,minutes:i.minutes})}),O(this,"onMouseEnterLeave",function(e){var e=e.target.getAttribute("name"),t=i.$minutesText;(t="hours"===e?i.$hoursText:t).classList.toggle("-focus-")}),O(this,"onFocus",function(){i.toggleTimepickerIsActive(!0)}),O(this,"onBlur",function(){i.toggleTimepickerIsActive(!1)}),this.opts=t,this.dp=e;n=this.dp.locale.timeFormat;n&&(n.match(J("h"))||n.match(J("hh")))&&(this.ampm=!0),this.init()}for(var e=s.prototype,t=[{key:"init",value:function(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}},{key:"bindDatepickerEvents",value:function(){this.dp.on(v,this.onChangeSelectedDate),this.dp.on(c,this.onChangeLastSelectedDate)}},{key:"bindDOMEvents",value:function(){var e="input";navigator.userAgent.match(/trident/gi)&&(e="change"),_(this.$ranges,e,this.onChangeInputRange),_(this.$ranges,"mouseenter",this.onMouseEnterLeave),_(this.$ranges,"mouseleave",this.onMouseEnterLeave),_(this.$ranges,"focus",this.onFocus),_(this.$ranges,"blur",this.onBlur)}},{key:"createElement",value:function(){this.$el=d({className:D("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}},{key:"destroy",value:function(){this.dp.off(v,this.onChangeSelectedDate),this.dp.off(c,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}},{key:"buildHtml",value:function(){var e=this.ampm,t=this.hours,i=this.displayHours,n=this.minutes,a=this.minHours,s=this.minMinutes,r=this.maxHours,o=this.maxMinutes,l=this.dayPeriod,c=this.opts,u=c.hoursStep,c=c.minutesStep;this.$el.innerHTML='<div class="air-datepicker-time--current">'+'   <span class="air-datepicker-time--current-hours">'.concat(y(i),"</span>")+'   <span class="air-datepicker-time--current-colon">:</span>'+'   <span class="air-datepicker-time--current-minutes">'.concat(y(n),"</span>")+"   ".concat(e?"<span class='air-datepicker-time--current-ampm'>".concat(l,"</span>"):"")+'</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">'+'      <input type="range" name="hours" value="'.concat(t,'" min="').concat(a,'" max="').concat(r,'" step="').concat(u,'"/>')+'   </div>   <div class="air-datepicker-time--row">'+'      <input type="range" name="minutes" value="'.concat(n,'" min="').concat(s,'" max="').concat(o,'" step="').concat(c,'"/>')+"   </div></div>"}},{key:"defineDOM",value:function(){function e(e){return h(e,t.$el)}var t=this;this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=e('[name="hours"]'),this.$minutes=e('[name="minutes"]'),this.$hoursText=e(".air-datepicker-time--current-hours"),this.$minutesText=e(".air-datepicker-time--current-minutes"),this.$ampm=e(".air-datepicker-time--current-ampm")}},{key:"setTime",value:function(e){this.setMinMaxTime(e),this.setCurrentTime(e)}},{key:"addTimeToDate",value:function(e){e&&(e.setHours(this.hours),e.setMinutes(this.minutes))}},{key:"setMinMaxTime",value:function(e){var t,i;this.setMinMaxTimeFromOptions(),e&&(t=(i=this.dp).minDate,i=i.maxDate,t&&b(e,t)&&this.setMinTimeFromMinDate(t),i&&b(e,i)&&this.setMaxTimeFromMaxDate(i))}},{key:"setCurrentTime",value:function(e){var e=e?p(e):this,t=e.hours,e=e.minutes;this.hours=$(t,this.minHours,this.maxHours),this.minutes=$(e,this.minMinutes,this.maxMinutes)}},{key:"setMinMaxTimeFromOptions",value:function(){var e=this.opts,t=e.minHours,i=e.minMinutes,n=e.maxHours,e=e.maxMinutes;this.minHours=$(t,0,23),this.minMinutes=$(i,0,59),this.maxHours=$(n,0,23),this.maxMinutes=$(e,0,59)}},{key:"setMinTimeFromMinDate",value:function(e){var t=this.dp.lastSelectedDate;this.minHours=e.getHours(),t&&t.getHours()>e.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=e.getMinutes()}},{key:"setMaxTimeFromMaxDate",value:function(e){var t=this.dp.lastSelectedDate;this.maxHours=e.getHours(),t&&t.getHours()<e.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=e.getMinutes()}},{key:"getDayPeriod",value:function(e,t){var i=Number(e),n=(e instanceof Date&&(e=p(e),i=Number(e.hours)),"am");if(t||this.ampm){switch(!0){case 12===i:case 11<i:n="pm"}i=i%12==0?12:i%12}return{hours:i,dayPeriod:n}}},{key:"updateSliders",value:function(){Y(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,Y(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}},{key:"updateText",value:function(){this.$hoursText.innerHTML=y(this.displayHours),this.$minutesText.innerHTML=y(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}},{key:"hours",get:function(){return this._hours},set:function(e){this._hours=e;var e=this.getDayPeriod(e),t=e.hours,e=e.dayPeriod;this.displayHours=t,this.dayPeriod=e}},{key:"render",value:function(){this.updateSliders(),this.updateText()}}],i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return s}();function ne(e,t){if(e){if("string"==typeof e)return ae(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function s(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}var se=function(){function n(e){var o=this,t=e.dp,e=e.opts,i=this;if(!(i instanceof n))throw new TypeError("Cannot call a class as a function");s(this,"pressedKeys",new Set),s(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],function(e){return e.month++}],[[["Control","ArrowLeft"],["Control","ArrowDown"]],function(e){return e.month--}],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],function(e){return e.year++}],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],function(e){return e.year--}],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],function(e){return e.year+=10}],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],function(e){return e.year-=10}],[["Control","Shift","ArrowUp"],function(e,t){return t.up()}]])),s(this,"handleHotKey",function(e){var e=o.hotKeys.get(e),t=p(o.getInitialFocusDate()),e=(e(t,o.dp),t.year),i=t.month,t=t.date,n=W(new Date(e,i)),n=(n<t&&(t=n),o.dp.getClampedDate(new Date(e,i,t)));o.dp.setFocusDate(n,{viewDateTransition:!0})}),s(this,"isHotKeyPressed",function(){var i,n=!1,a=o.pressedKeys.size,s=function(e){return o.pressedKeys.has(e)},e=function(e){var t,i,n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ne(e)))return n&&(e=n),t=0,{s:i=function(){},n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){r=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(r)throw a}}}}(o.hotKeys);try{for(e.s();!(i=e.n()).done&&"break"!==function(){var e,t=(function(e){if(Array.isArray(e))return e}(e=i.value)||function(e){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,n,a=[],s=!0,r=!1;try{for(t=t.call(e);!(s=(i=t.next()).done)&&(a.push(i.value),1!==a.length);s=!0);}catch(e){r=!0,n=e}finally{try{s||null==t.return||t.return()}finally{if(r)throw n}}return a}}(e)||ne(e,1)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];if(n)return"break";if(Array.isArray(t[0]))t.forEach(function(e){n||a!==e.length||(n=e.every(s)&&t)});else{if(a!==t.length)return"continue";n=t.every(s)&&t}}(););}catch(i){e.e(i)}finally{e.f()}return n}),s(this,"isArrow",function(e){return 37<=e&&e<=40}),s(this,"onKeyDown",function(e){var t=e.key,i=e.which,n=o.dp,a=o.dp.focusDate,s=o.opts,r=(o.registerKey(t),o.isHotKeyPressed());if(r)return e.preventDefault(),void o.handleHotKey(r);if(o.isArrow(i))return e.preventDefault(),void o.focusNextCell(t);if("Enter"===t){if(n.currentView!==s.minView)return void n.down();if(a)return void((r=n._checkIfDateIsSelected(a))?n._handleAlreadySelectedDates(r,a):n.selectDate(a))}"Escape"===t&&o.dp.hide()}),s(this,"onKeyUp",function(e){o.removeKey(e.key)}),this.dp=t,this.opts=e,this.init()}for(var e=n.prototype,t=[{key:"init",value:function(){this.bindKeyboardEvents()}},{key:"bindKeyboardEvents",value:function(){var e=this.dp.$el;e.addEventListener("keydown",this.onKeyDown),e.addEventListener("keyup",this.onKeyUp)}},{key:"destroy",value:function(){var e=this.dp.$el;e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}},{key:"getInitialFocusDate",value:function(){var e=this.dp,t=e.focusDate,i=e.currentView,n=e.selectedDates,e=e.parsedViewDate,a=e.year,s=e.month,r=t||n[n.length-1];if(!r)switch(i){case f:r=new Date(a,s,(new Date).getDate());break;case u:r=new Date(a,s,1);break;case m:r=new Date(a,0,1)}return r}},{key:"focusNextCell",value:function(e){var t=this.getInitialFocusDate(),i=this.dp.currentView,n=f,a=u,s=m,t=p(t),r=t.year,o=t.month,l=t.date;switch(e){case"ArrowLeft":i===n&&--l,i===a&&--o,i===s&&--r;break;case"ArrowUp":i===n&&(l-=7),i===a&&(o-=3),i===s&&(r-=4);break;case"ArrowRight":i===n&&(l+=1),i===a&&(o+=1),i===s&&(r+=1);break;case"ArrowDown":i===n&&(l+=7),i===a&&(o+=3),i===s&&(r+=4)}t=this.dp.getClampedDate(new Date(r,o,l));this.dp.setFocusDate(t,{viewDateTransition:!0})}},{key:"registerKey",value:function(e){this.pressedKeys.add(e)}},{key:"removeKey",value:function(e){this.pressedKeys.delete(e)}}],i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return n}(),e={on:function(e,t){this.__events||(this.__events={}),this.__events[e]?this.__events[e].push(t):this.__events[e]=[t]},off:function(e,t){this.__events&&this.__events[e]&&(this.__events[e]=this.__events[e].filter(function(e){return e!==t}))},removeAllEvents:function(){this.__events={}},trigger:function(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.__events&&this.__events[e]&&this.__events[e].forEach(function(e){e.apply(void 0,i)})}};function re(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,s=[],r=!0,o=!1;try{for(i=i.call(e);!(r=(n=i.next()).done)&&(s.push(n.value),!t||s.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return s}}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"==typeof e)return ce(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ce(e,t):void 0}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function ue(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}var t,he,de="",V="",x="",pe=!1,i=(he=[{key:"replacer",value:function(e,t,a){return e.replace(t,function(e,t,i,n){return t+a+n})}}],ue((t=H).prototype,[{key:"init",value:function(){var e,t=this.opts,i=this.treatAsInline,n=this.opts,a=n.inline,s=n.isMobile,r=n.selectedDates,o=n.keyboardNav,n=n.onlyTimepicker;pe||a||!this.elIsInput||(pe=!0,V=d({className:e=H.defaultContainerId,id:e}),de.appendChild(V)),!s||x||i||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(a||this._bindEvents(),o&&!n&&(this.keyboardNav=new se({dp:this,opts:t}))),r&&this.selectDate(r,{silent:!0}),this.opts.visible&&!i&&this.show(),i&&this._createComponents()}},{key:"_createMobileOverlay",value:function(){x=d({className:"air-datepicker-overlay"}),V.appendChild(x)}},{key:"_createComponents",value:function(){var e=this.opts,t=this.treatAsInline,i=this.opts,n=i.inline,a=i.buttons,s=i.timepicker,r=i.position,o=i.classes,l=i.onlyTimepicker,i=i.isMobile;this._buildBaseHtml(),this.elIsInput&&!n&&this._setPositionClasses(r),!n&&this.elIsInput||this.$datepicker.classList.add("-inline-"),o&&(r=this.$datepicker.classList).add.apply(r,re(o.split(" "))),l&&this.$datepicker.classList.add("-only-timepicker-"),i&&!t&&this._addMobileAttributes(),this.views[this.currentView]=new Q({dp:this,type:this.currentView,opts:e}),this.nav=new Z({dp:this,opts:e}),s&&this._addTimepicker(),a&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}},{key:"_destroyComponents",value:function(){for(var e in this.views)this.views[e].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}},{key:"_addMobileAttributes",value:function(){x.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}},{key:"_removeMobileAttributes",value:function(){x.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||""===this.initialReadonly||this.$el.removeAttribute("readonly")}},{key:"_createMinMaxDates",value:function(){var e=this.opts,t=e.minDate,e=e.maxDate;this.minDate=!!t&&S(t),this.maxDate=!!e&&S(e)}},{key:"_addTimepicker",value:function(){this.$timepicker=d({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new ie({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}},{key:"_addButtons",value:function(){this.$buttons=d({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new te({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}},{key:"_bindSubEvents",value:function(){this.on(v,this._onChangeSelectedDate),this.on(a,this._onChangeFocusedDate),this.on(l,this._onChangeTime)}},{key:"_buildBaseHtml",value:function(){var e,t=this.opts.inline;this.elIsInput?t?(t=this.$datepicker,(e=this.$el).parentNode.insertBefore(t,e.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=h(".air-datepicker--content",this.$datepicker),this.$pointer=h(".air-datepicker--pointer",this.$datepicker),this.$nav=h(".air-datepicker--navigation",this.$datepicker)}},{key:"_handleLocale",value:function(){var e=this.opts,t=e.locale,i=e.dateFormat,n=e.firstDay,a=e.timepicker,s=e.onlyTimepicker,r=e.timeFormat,e=e.dateTimeSeparator,t=(this.locale=JSON.parse(JSON.stringify(t)),i&&(this.locale.dateFormat=i),void 0!==r&&""!==r&&(this.locale.timeFormat=r),this.locale.timeFormat);""!==n&&(this.locale.firstDay=n),a&&"function"!=typeof i&&(this.locale.dateFormat=[this.locale.dateFormat,t||""].join(t?e:"")),s&&(this.locale.dateFormat=this.locale.timeFormat)}},{key:"_setPositionClasses",value:function(e){var t;"function"!=typeof e?(t=(e=e.split(" "))[0],e=e[1],e="air-datepicker -".concat(t,"-").concat(e,"- -from-").concat(t,"-"),(t=this.$datepicker.classList).add.apply(t,re(e.split(" ")))):this.$datepicker.classList.add("-custom-position-")}},{key:"_bindEvents",value:function(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp)}},{key:"_limitViewDateByMaxMinDates",value:function(){var e=this.viewDate,t=this.minDate,i=this.maxDate;i&&k(e,i)&&this.setViewDate(i),t&&w(e,t)&&this.setViewDate(t)}},{key:"formatDate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.viewDate,t=1<arguments.length?arguments[1]:void 0;if((e=S(e))instanceof Date){var i=t,t=this.locale,n=p(e),a=g(e),s=H.replacer,r="am";this.opts.timepicker&&this.timepicker&&(r=this.timepicker.getDayPeriod(e).dayPeriod);for(var e={T:e.getTime(),m:n.minutes,mm:n.fullMinutes,h:n.hours12,hh:n.fullHours12,H:n.hours,HH:n.fullHours,aa:r,AA:r.toUpperCase(),E:t.daysShort[n.day],EEEE:t.days[n.day],d:n.date,dd:n.fullDate,M:n.month+1,MM:n.fullMonth,MMM:t.monthsShort[n.month],MMMM:t.months[n.month],yy:n.year.toString().slice(-2),yyyy:n.year,yyyy1:a[0],yyyy2:a[1]},o=0,l=Object.entries(e);o<l.length;o++)var c=oe(l[o],2),u=c[0],c=c[1],i=s(i,J(u),c);return i}}},{key:"down",value:function(e){this._handleUpDownActions(e,"down")}},{key:"up",value:function(e){this._handleUpDownActions(e,"up")}},{key:"selectDate",value:function(e){var t,i=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=this.currentView,s=this.parsedViewDate,r=this.selectedDates,o=n.updateTime,l=this.opts,c=l.moveToOtherMonthsOnSelect,u=l.moveToOtherYearsOnSelect,h=l.multipleDates,d=l.range,l=l.autoClose,p=r.length;if(Array.isArray(e))return e.forEach(function(e){i.selectDate(e,n)}),new Promise(function(e){setTimeout(e)});if((e=S(e))instanceof Date){if(a===f&&e.getMonth()!==s.month&&c&&(t=new Date(e.getFullYear(),e.getMonth(),1)),(t=a===m&&e.getFullYear()!==s.year&&u?new Date(e.getFullYear(),0,1):t)&&this.setViewDate(t),h&&!d){if(p===h)return;this._checkIfDateIsSelected(e)||r.push(e)}else if(d)switch(p){case 1:r.push(e),this.rangeDateTo||(this.rangeDateTo=e),k(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=e),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[e],this.rangeDateFrom=e,this.rangeDateTo="";break;default:this.selectedDates=[e],this.rangeDateFrom=e}else this.selectedDates=[e];return this.trigger(v,{action:L,silent:null==n?void 0:n.silent,date:e,updateTime:o}),this._updateLastSelectedDate(e),l&&!this.timepickerIsActive&&this.visible&&(!h&&!d||d&&2===p)&&this.hide(),new Promise(function(e){setTimeout(e)})}}},{key:"unselectDate",value:function(i){var n=this,a=this.selectedDates,s=this;if((i=S(i))instanceof Date)return a.some(function(e,t){if(b(e,i))return a.splice(t,1),s.selectedDates.length?s._updateLastSelectedDate(s.selectedDates[s.selectedDates.length-1]):(s.rangeDateFrom="",s.rangeDateTo="",s._updateLastSelectedDate(!1)),n.trigger(v,{action:N,date:i}),!0})}},{key:"replaceDate",value:function(t,e){var i=this,n=this.selectedDates.find(function(e){return b(e,t,i.currentView)}),n=this.selectedDates.indexOf(n);n<0||b(this.selectedDates[n],e,this.currentView)||(this.selectedDates[n]=e,this.trigger(v,{action:L,date:e,updateTime:!0}),this._updateLastSelectedDate(e))}},{key:"clear",value:function(){this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.trigger(v,{action:N})}},{key:"show",value:function(){var e=this.opts,t=e.onShow,e=e.isMobile;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,t&&this._scheduleCallAfterTransition(t),e&&x.classList.add("-active-")}},{key:"hide",value:function(){var t=this,e=this.opts,i=e.onHide,e=e.isMobile,n=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(function(e){!t.customHide&&(e&&n||!e&&!n)&&t._finishHide(),i&&i(e)}),e&&x.classList.remove("-active-")}},{key:"_triggerOnSelect",value:function(){var t=this,e=[],i=[],n=this.selectedDates,a=this.locale,s=this.opts,r=s.onSelect,s=s.multipleDates,o="function"==typeof a.dateFormat;n.length&&(e=n.map(q),i=o?s?a.dateFormat(e):e.map(function(e){return a.dateFormat(e)}):e.map(function(e){return t.formatDate(e,a.dateFormat)})),r({date:s?e:e[0],formattedDate:s?i:i[0],datepicker:this})}},{key:"_handleAlreadySelectedDates",value:function(e,t){var i=this.opts,n=i.range,i=i.toggleSelected;n?i?this.unselectDate(t):2!==this.selectedDates.length&&this.selectDate(t):i&&this.unselectDate(t),i||this._updateLastSelectedDate(e)}},{key:"_handleUpDownActions",value:function(e,t){(e=S(e||this.focusDate||this.viewDate))instanceof Date&&((t=2<(t="up"===t?this.viewIndex+1:this.viewIndex-1)?2:t)<0&&(t=0),this.setViewDate(new Date(e.getFullYear(),e.getMonth(),1)),this.setCurrentView(this.viewIndexes[t]))}},{key:"_handleRangeOnFocus",value:function(){1===this.selectedDates.length&&(k(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}},{key:"getCell",value:function(e){var t,i,n,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"day";if((e=S(e))instanceof Date)return i=(t=p(e)).year,n=t.month,e=t.date,t='[data-year="'.concat(i,'"]'),i='[data-month="'.concat(n,'"]'),n='[data-date="'.concat(e,'"]'),E(e={},"day","".concat(t).concat(i).concat(n)),E(e,"month","".concat(t).concat(i)),E(e,"year","".concat(t)),this.views[this.currentView].$el.querySelector(e[a])}},{key:"_hasTransition",value:function(){return 0<window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce(function(e,t){return parseFloat(t)+e},0)}},{key:"parsedViewDate",get:function(){return p(this.viewDate)}},{key:"curDecade",get:function(){return g(this.viewDate)}},{key:"viewIndex",get:function(){return this.viewIndexes.indexOf(this.currentView)}},{key:"isFinalView",get:function(){return this.currentView===m}},{key:"hasSelectedDates",get:function(){return 0<this.selectedDates.length}},{key:"isMinViewReached",get:function(){return this.currentView===this.opts.minView||this.currentView===f}},{key:"$container",get:function(){return this.$customContainer||V}}]),ue(t,he),H);function H(e,t){var v=this,i=this;if(!(i instanceof H))throw new TypeError("Cannot call a class as a function");E(this,"viewIndexes",[f,u,m]),E(this,"next",function(){var e=v.parsedViewDate,t=e.year,i=e.month;switch(v.currentView){case f:v.setViewDate(new Date(t,i+1,1));break;case u:v.setViewDate(new Date(t+1,i,1));break;case m:v.setViewDate(new Date(t+10,0,1))}}),E(this,"prev",function(){var e=v.parsedViewDate,t=e.year,i=e.month;switch(v.currentView){case f:v.setViewDate(new Date(t,i-1,1));break;case u:v.setViewDate(new Date(t-1,i,1));break;case m:v.setViewDate(new Date(t-10,0,1))}}),E(this,"_finishHide",function(){v.hideAnimation=!1,v._destroyComponents(),v.$container.removeChild(v.$datepicker)}),E(this,"setPosition",function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if("function"!=typeof(e=e||v.opts.position)){var i,n,a=v.opts.isMobile,s=v.$el.getBoundingClientRect(),r=v.$el.getBoundingClientRect(),o=v.$datepicker.offsetParent,l=v.$el.offsetParent,c=v.$datepicker.getBoundingClientRect(),u=e.split(" "),h=window.scrollY,d=window.scrollX,p=v.opts.offset,f=u[0],u=u[1];if(a)v.$datepicker.style.cssText="left: 50%; top: 50%";else{switch(o===l&&o!==document.body&&(r={top:v.$el.offsetTop,left:v.$el.offsetLeft,width:s.width,height:v.$el.offsetHeight},d=h=0),o!==l&&o!==document.body&&(a=o.getBoundingClientRect(),r={top:s.top-a.top,left:s.left-a.left,width:s.width,height:s.height},d=h=0),f){case"top":i=r.top-c.height-p;break;case"right":n=r.left+r.width+p;break;case"bottom":i=r.top+r.height+p;break;case"left":n=r.left-c.width-p}switch(u){case"top":i=r.top;break;case"right":n=r.left+r.width-c.width;break;case"bottom":i=r.top+r.height-c.height;break;case"left":n=r.left;break;case"center":/left|right/.test(f)?i=r.top+r.height/2-c.height/2:n=r.left+r.width/2-c.width/2}v.$datepicker.style.cssText="left: ".concat(n+d,"px; top: ").concat(i+h,"px")}}else v.customHide=e({$datepicker:v.$datepicker,$target:v.$el,$pointer:v.$pointer,isViewChange:t,done:v._finishHide})}),E(this,"_setInputValue",function(){var e=v.opts,t=v.$altField,i=v.locale.dateFormat,n=e.altFieldDateFormat;e.altField&&t&&(t.value=v._getInputValue(n)),v.$el.value=v._getInputValue(i)}),E(this,"_getInputValue",function(t){var e=v.selectedDates,i=v.opts,n=i.multipleDates,i=i.multipleDatesSeparator;if(!e.length)return"";var a="function"==typeof t,n=a?t(n?e:e[0]):e.map(function(e){return v.formatDate(e,t)});return a?n:n.join(i)}),E(this,"_checkIfDateIsSelected",function(i){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:f,a=!1;return v.selectedDates.some(function(e){var t=b(i,e,n);return a=t&&e,t}),a}),E(this,"_scheduleCallAfterTransition",function(e){v._cancelScheduledCall(),e&&e(!1),v._onTransitionEnd=function(){e&&e(!0)},v.$datepicker.addEventListener("transitionend",v._onTransitionEnd,{once:!0})}),E(this,"_cancelScheduledCall",function(){v.$datepicker.removeEventListener("transitionend",v._onTransitionEnd)}),E(this,"setViewDate",function(e){var t,i;(e=S(e))instanceof Date&&!b(e,v.viewDate)&&(t=v.viewDate,v.viewDate=e,(i=v.opts.onChangeViewDate)&&i({month:(i=v.parsedViewDate).month,year:i.year,decade:v.curDecade}),v.trigger(r,e,t))}),E(this,"setFocusDate",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(!e||(e=S(e))instanceof Date)&&(v.focusDate=e,v.opts.range&&e&&v._handleRangeOnFocus(),v.trigger(a,e,t))}),E(this,"setCurrentView",function(e){var t;v.viewIndexes.includes(e)&&(v.currentView=e,v.elIsInput&&v.visible&&v.setPosition(void 0,!0),v.trigger(o,e),v.views[e]||(t=v.views[e]=new Q({dp:v,opts:v.opts,type:e}),v.$content.appendChild(t.$el)),v.opts.onChangeView&&v.opts.onChangeView(e))}),E(this,"_updateLastSelectedDate",function(e){v.lastSelectedDate=e,v.trigger(c,e)}),E(this,"destroy",function(){var e=v.opts,t=e.showEvent,e=e.isMobile,i=v.$datepicker.parentNode;i&&i.removeChild(v.$datepicker),v.$el.removeEventListener(t,v._onFocus),v.$el.removeEventListener("blur",v._onBlur),e&&v._removeMobileAttributes(),v.keyboardNav&&v.keyboardNav.destroy(),v.views=null,v.nav=null,v.$datepicker=null,v.opts=null,v.$customContainer=null,v.viewDate=null,v.focusDate=null,v.selectedDates=null,v.rangeDateFrom=null,v.rangeDateTo=null}),E(this,"update",function(e){var t=C({},v.opts),i=(C(v.opts,e),v.opts),n=i.timepicker,a=i.buttons,s=i.range,r=i.selectedDates,i=i.isMobile,o=v.visible||v.treatAsInline;v._createMinMaxDates(),v._limitViewDateByMaxMinDates(),v._handleLocale(),!t.selectedDates&&r&&v.selectDate(r),e.view&&v.setCurrentView(e.view),v._setInputValue(),t.range&&!s?(v.rangeDateTo=!1,v.rangeDateFrom=!1):!t.range&&s&&v.selectedDates.length&&(v.rangeDateFrom=v.selectedDates[0],v.rangeDateTo=v.selectedDates[1]),t.timepicker&&!n?(o&&v.timepicker.destroy(),v.timepicker=!1,v.$timepicker.parentNode.removeChild(v.$timepicker)):!t.timepicker&&n&&v._addTimepicker(),!t.buttons&&a?v._addButtons():t.buttons&&!a?(v.buttons.destroy(),v.$buttons.parentNode.removeChild(v.$buttons)):o&&t.buttons&&a&&v.buttons.clearHtml().render(),!t.isMobile&&i?(v.treatAsInline||x||v._createMobileOverlay(),v._addMobileAttributes()):t.isMobile&&!i&&v._removeMobileAttributes(),o&&(v.nav.update(),v.views[v.currentView].render(),v.currentView===f&&v.views[v.currentView].renderDayNames())}),E(this,"isOtherMonth",function(e){return p(e).month!==v.parsedViewDate.month}),E(this,"isOtherYear",function(e){return p(e).year!==v.parsedViewDate.year}),E(this,"isOtherDecade",function(e){var e=p(e).year,t=oe(g(v.viewDate),2),i=t[0],t=t[1];return e<i||t<e}),E(this,"_onChangeSelectedDate",function(e){var t=e.silent;setTimeout(function(){v._setInputValue(),v.opts.onSelect&&!t&&v._triggerOnSelect()})}),E(this,"_onChangeFocusedDate",function(e){var t,i=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).viewDateTransition;e&&(t=!1,(t=i?v.isOtherMonth(e)||v.isOtherYear(e)||v.isOtherDecade(e):t)&&v.setViewDate(e))}),E(this,"_onChangeTime",function(e){var t=e.hours,e=e.minutes,i=new Date,n=v.lastSelectedDate,a=v.opts.onSelect,s=n,i=v.getCell(s=n?s:i),i=i&&i.adpCell;i&&i.isDisabled||(s.setHours(t),s.setMinutes(e),n?(v._setInputValue(),a&&v._triggerOnSelect()):v.selectDate(s))}),E(this,"_onFocus",function(e){v.visible||v.show()}),E(this,"_onBlur",function(e){v.inFocus||!v.visible||v.opts.isMobile||v.hide()}),E(this,"_onMouseDown",function(e){v.inFocus=!0}),E(this,"_onMouseUp",function(e){v.inFocus=!1,v.$el.focus()}),E(this,"_onClickOverlay",function(){v.visible&&v.hide()}),E(this,"isWeekend",function(e){return v.opts.weekends.includes(e)}),E(this,"getClampedDate",function(e){var t=v.minDate,i=v.maxDate,n=e;return i&&k(e,i)?n=i:t&&w(e,t)&&(n=t),n}),this.$el=h(e),this.$el&&(this.$datepicker=d({className:"air-datepicker"}),this.opts=C({},j,t),this.$customContainer=!!this.opts.container&&h(this.opts.container),this.$altField=h(this.opts.altField||!1),de=de||h("body"),e=(i=this.opts).view,i.startDate||(this.opts.startDate=new Date),"INPUT"===this.$el.nodeName&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=S(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=e,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init())}return E(i,"defaults",j),E(i,"version","3.1.0"),E(i,"defaultContainerId","air-datepicker-global-container"),t=i.prototype,Object.assign(t,e),I.default})()});